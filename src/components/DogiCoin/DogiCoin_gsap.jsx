import React from 'react'
import gsap from "gsap";

import './general.css'
import './gsap.css'

export const DogiCoinGsap = ({ size }) => {
  const coinRef = React.useRef(null);
  const shineRef = React.useRef(null);
  const pawRef = React.useRef(null);
  const starsRef = React.useRef(null);

  React.useEffect(() => {
    // Shine animation
    gsap.fromTo(shineRef.current.children, 
      {
        y: "-15%",
        x: "-100%",
        height: "300px",
        opacity: 0.5,
        mixBlendMode: 'soft-light',
        repeatDelay: 1
      },
      {
        x: "120%",
        ease: "back.inOut(1.7)",
        repeat: -1,
        duration: 3,
        yoyo: false,
      }
    );

    // Starts animation
    gsap.fromTo(starsRef.current.children[0], 
      {
        x: 5, 
        opacity: 0, 
        scale: 0,
        yoyo: true
      }, 
      {
        opacity: 1, 
        smoothOrigin: true, 
        repeat: -1, 
        transformOrigin: "50% 50%", 
        duration: 0.5,
        yoyo: true, 
        scale: 1.5
      }
    );

    gsap.fromTo(starsRef.current.children[1], 
      {
        x: 10, 
        opacity: 1, 
        scale: 0,
        duration: 1.5,
        yoyo: true
      }, 
      {
        opacity: 1, 
        smoothOrigin: true, 
        repeat: -1, 
        transformOrigin: "50% 50%", 
        duration: 0.9,
        yoyo: true, 
        scale: 1.1
      }
    );

    gsap.fromTo(starsRef.current.children[2], 
      {
        x: 15, 
        opacity: 1, 
        scale: 0,
        duration: 1.5,
        yoyo: true
      }, 
      {
        opacity: 1, 
        smoothOrigin: true, 
        repeat: -1, 
        transformOrigin: "50% 50%", 
        duration: 1,
        yoyo: true, 
        scale: 1.5
      }
    );

    gsap.fromTo(starsRef.current.children[3],
      {
        x: 20, 
        opacity: 1, 
        scale: 0,
        duration: 1.3,
        yoyo: true
      }, 
      {
        opacity: 1, 
        smoothOrigin: true, 
        repeat: -1, 
        transformOrigin: "50% 50%", 
        duration: 1,
        yoyo: true, 
        scale: 1.7
      }
    );
  }, []);

  return (
    <div className="icon-container">
      <svg ref={coinRef} style={{ padding: '10px' }} width={size} height={size} viewBox="0 0 526 532" xmlns="http://www.w3.org/2000/svg">
        <circle cx="261" cy="261" r="261" fill="#FFB873"/>
        <path fillRule="evenodd" clipRule="evenodd" d="M260.375 521.863C404.521 521.863 521.375 405.01 521.375 260.863C521.375 228.532 515.496 197.574 504.75 169C518.029 200.298 525.375 234.723 525.375 270.863C525.375 415.01 408.521 531.863 264.375 531.863C152.559 531.863 57.1667 461.55 20 362.727C59.686 456.26 152.369 521.863 260.375 521.863Z" fill="#8C5000"/>
        <circle cx="260.5" cy="260.5" r="193.5" fill="#FF9E2F"/>
        <path fillRule="evenodd" clipRule="evenodd" d="M431.397 169.523C397.769 112.363 335.615 74 264.5 74C157.633 74 71 160.633 71 267.5C71 298.781 78.4226 328.328 91.6026 354.477C74.6963 325.74 65 292.252 65 256.5C65 149.633 151.633 63 258.5 63C334.086 63 399.55 106.339 431.397 169.523Z" fill="#8C5000"/>

        <g ref={shineRef}>
          <path opacity="0" fillRule="evenodd" clipRule="evenodd" d="M378.314 35.1739C382.018 38.6396 385.641 42.192 389.178 45.8277L48.5344 679.479C44.8658 675.943 41.281 672.32 37.7834 668.614L378.314 35.1739ZM333.328 0C345.35 7.7897 356.818 16.3605 367.661 25.6404L27.8991 657.651C17.7231 645.832 8.39215 633.265 0 620.044L333.328 0ZM57.1324 687.471L397.373 54.5694C417.651 77.0196 434.806 102.345 448.153 129.861L123.655 733.478C99.5306 720.949 77.1951 705.453 57.1324 687.471Z" fill="white" />
        </g>

        <g ref={pawRef}>
          <path fillRule="evenodd" clipRule="evenodd" d="M226.388 146.035C218.211 145.49 212.759 151.486 212.759 151.486C212.759 151.486 209.463 154.028 206.217 158.573C200.766 166.205 197.497 174.888 196.95 186.375C196.405 197.822 200.222 207.635 208.399 212.541C217.39 217.937 225.843 218.118 233.475 216.357C240.561 214.721 248.392 210.582 249.829 198.368C250.919 189.1 248.738 166.205 243.832 158.028C238.926 149.851 234.565 146.58 226.388 146.035ZM166.967 210.905C162.143 209.699 158.245 210.905 155.519 212.54C153.883 213.521 152.357 214.612 150.613 216.356C148.432 218.537 143.824 223.733 141.892 231.076C138.448 244.16 138.075 250.155 140.801 263.782C142.785 273.699 151.582 280.112 159.881 281.771C168.058 283.407 179.108 281.341 185.502 276.865C190.953 273.049 194.224 265.963 193.133 255.606C192.091 245.713 189.317 235.436 183.321 225.623C177.324 215.811 173.509 212.54 166.967 210.905ZM299.71 146.07C307.887 145.525 313.339 151.522 313.339 151.522C313.339 151.522 316.635 154.063 319.881 158.608C325.332 166.24 328.601 174.923 329.148 186.41C329.693 197.858 325.876 207.67 317.699 212.576C308.708 217.972 300.255 218.153 292.623 216.392C285.537 214.756 277.706 210.617 276.269 198.403C275.179 189.135 277.36 166.24 282.266 158.063C287.172 149.886 291.533 146.615 299.71 146.07ZM359.131 210.94C363.955 209.735 367.853 210.94 370.579 212.575C372.215 213.556 373.741 214.647 375.485 216.391C377.666 218.572 382.274 223.768 384.206 231.111C387.65 244.195 388.023 250.19 385.297 263.817C383.313 273.735 374.516 280.147 366.217 281.807C358.04 283.442 346.99 281.377 340.596 276.9C335.145 273.084 331.874 265.998 332.965 255.641C334.007 245.748 336.781 235.471 342.777 225.659C348.774 215.846 352.589 212.575 359.131 210.94Z" fill="#8C5000"/>
          <path fillRule="evenodd" clipRule="evenodd" d="M262.093 370.084C257.399 370.078 252.192 370.072 246.012 371.72C237.835 373.901 234.241 374.874 223.661 380.443C213.303 385.894 204.414 388.37 194.224 384.804C183.321 380.988 172.418 371.175 168.057 358.092C163.696 345.009 164.307 327.602 176.235 314.481C183.806 306.153 190.852 303.608 197.554 301.187C200.503 300.122 203.385 299.081 206.217 297.582C213.961 293.482 216.757 286.337 219.375 279.645C219.89 278.329 220.398 277.031 220.935 275.777C224.206 268.145 229.657 261.604 238.38 254.517C247.102 247.43 256.369 246.34 262.911 246.34C269.452 246.34 278.719 247.43 287.442 254.517C296.164 261.604 301.616 268.145 304.886 275.777C305.423 277.031 305.931 278.329 306.446 279.645C309.064 286.337 311.86 293.482 319.604 297.582C322.436 299.081 325.318 300.122 328.267 301.187C334.969 303.608 342.015 306.153 349.587 314.481C361.514 327.602 362.125 345.009 357.764 358.092C353.403 371.175 342.501 380.988 331.597 384.804C321.408 388.37 312.518 385.894 302.16 380.443C291.58 374.874 287.987 373.901 279.81 371.72C273.629 370.072 268.422 370.078 263.728 370.084C263.454 370.084 263.181 370.085 262.911 370.085M262.093 370.084C262.367 370.084 262.64 370.085 262.91 370.085L262.093 370.084Z" fill="#8C5000"/>
          <path fillRule="evenodd" clipRule="evenodd" d="M221.388 136.035C213.211 135.49 207.759 141.486 207.759 141.486C207.759 141.486 204.463 144.028 201.217 148.573C195.766 156.205 192.497 164.888 191.95 176.375C191.405 187.822 195.222 197.635 203.399 202.541C212.39 207.937 220.843 208.118 228.475 206.357C235.561 204.721 243.392 200.582 244.829 188.368C245.919 179.1 243.738 156.205 238.832 148.028C233.926 139.851 229.565 136.58 221.388 136.035ZM161.967 200.905C157.143 199.699 153.245 200.905 150.519 202.54C148.883 203.521 147.357 204.612 145.613 206.356C143.432 208.537 138.824 213.733 136.892 221.076C133.448 234.16 133.075 240.155 135.801 253.782C137.785 263.699 146.582 270.112 154.881 271.771C163.058 273.407 174.108 271.341 180.502 266.865C185.953 263.049 189.224 255.963 188.133 245.606C187.091 235.713 184.317 225.436 178.321 215.623C172.324 205.811 168.509 202.54 161.967 200.905ZM294.71 136.07C302.887 135.525 308.339 141.522 308.339 141.522C308.339 141.522 311.635 144.063 314.881 148.608C320.332 156.24 323.601 164.923 324.148 176.41C324.693 187.858 320.876 197.67 312.699 202.576C303.708 207.972 295.255 208.153 287.623 206.392C280.537 204.756 272.706 200.617 271.269 188.403C270.179 179.135 272.36 156.24 277.266 148.063C282.172 139.886 286.533 136.615 294.71 136.07ZM354.131 200.94C358.955 199.735 362.853 200.94 365.579 202.575C367.215 203.556 368.741 204.647 370.485 206.391C372.666 208.572 377.274 213.768 379.206 221.111C382.65 234.195 383.023 240.19 380.297 253.817C378.313 263.735 369.516 270.147 361.217 271.807C353.04 273.442 341.99 271.377 335.596 266.9C330.145 263.084 326.874 255.998 327.965 245.641C329.007 235.748 331.781 225.471 337.777 215.659C343.774 205.846 347.589 202.575 354.131 200.94Z" fill="#FFB873"/>
          <path fillRule="evenodd" clipRule="evenodd" d="M257.093 360.084C252.399 360.078 247.192 360.072 241.012 361.72C232.835 363.901 229.241 364.874 218.661 370.443C208.303 375.894 199.414 378.37 189.224 374.804C178.321 370.988 167.418 361.175 163.057 348.092C158.696 335.009 159.307 317.602 171.235 304.481C178.806 296.153 185.852 293.608 192.554 291.187C195.503 290.122 198.385 289.081 201.217 287.582C208.961 283.482 211.757 276.337 214.375 269.645C214.89 268.329 215.398 267.031 215.935 265.777C219.206 258.145 224.657 251.604 233.38 244.517C242.102 237.43 251.369 236.34 257.911 236.34C264.452 236.34 273.719 237.43 282.442 244.517C291.164 251.604 296.616 258.145 299.886 265.777C300.423 267.031 300.931 268.329 301.446 269.645C304.064 276.337 306.86 283.482 314.604 287.582C317.436 289.081 320.318 290.122 323.267 291.187C329.969 293.608 337.015 296.153 344.587 304.481C356.514 317.602 357.125 335.009 352.764 348.092C348.403 361.175 337.501 370.988 326.597 374.804C316.408 378.37 307.518 375.894 297.16 370.443C286.58 364.874 282.987 363.901 274.81 361.72C268.629 360.072 263.422 360.078 258.728 360.084C258.454 360.084 258.181 360.085 257.911 360.085M257.093 360.084C257.367 360.084 257.64 360.085 257.91 360.085L257.093 360.084Z" fill="#FFB873"/>
        </g>

        <g ref={starsRef}>
          <path opacity="0" d="M393 87L396.734 116.266L426 120L396.734 123.734L393 153L389.266 123.734L360 120L389.266 116.266L393 87Z" fill="white"/>
          <path opacity="0" d="M282.5 111L285.272 132.728L307 135.5L285.272 138.272L282.5 160L279.728 138.272L258 135.5L279.728 132.728L282.5 111Z" fill="white"/>
          <path opacity="0" d="M319.5 268L322.272 289.728L344 292.5L322.272 295.272L319.5 317L316.728 295.272L295 292.5L316.728 289.728L319.5 268Z" fill="white"/>
          <path opacity="0" d="M133.5 376L136.272 397.728L158 400.5L136.272 403.272L133.5 425L130.728 403.272L109 400.5L130.728 397.728L133.5 376Z" fill="white"/>
        </g>
      </svg>
    </div>
  )
}